<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,viewport-fit=cover"
    />
    <title>Happy Birthday â€” Mobile Card</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="card" role="region" aria-label="Birthday card">
      <div class="carousel">
        <div class="slides" id="slides">
          <!-- Replace src with actual person images. Prefer portrait-oriented images for best result. -->
          <div class="slide active">
            <img src="images/IMG-20250526-WA0015-crop.jpg"  alt="Birthday person 1" />
          </div>
          <div class="slide">
            <img src="image/IMG-20250526-WA0016.jpg" alt="Birthday person 2" />
          </div>
          <div class="slide">
            <img src="image/IMG-20250603-WA0002.jpg" alt="Birthday person 3" />
          </div>
        </div>

        <button class="ctrl left" id="prev" aria-label="Previous image">
          <svg viewBox="0 0 24 24">
            <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" />
          </svg>
        </button>
        <button class="ctrl right" id="next" aria-label="Next image">
          <svg viewBox="0 0 24 24">
            <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6z" />
          </svg>
        </button>

        <div class="dots" id="dots"></div>
      </div>

      <div class="content">
        <div class="title">
          <div style="flex: 1">
            <h1>Happy Birthday, Alex ðŸŽ‰</h1>
            <div class="small">
              Wishing you a day full of love and surprises
            </div>
          </div>
          <div
            style="
              width: 48px;
              height: 48px;
              border-radius: 12px;
              background: linear-gradient(135deg, #fff, #f6edff);
              display: flex;
              align-items: center;
              justify-content: center;
              border: 1px solid rgba(124, 58, 237, 0.08);
            "
          >
            ðŸŽ‚
          </div>
        </div>

        <div class="quote">
          "May your day be filled with laughter, love and the perfect cake
          slice."
        </div>

        <div class="actions">
          <button class="btn mem" id="open-mem">Memories</button>
          <button class="btn gift" id="open-gift">Open Gift</button>
        </div>
      </div>
    </div>

    <!-- Memories Modal -->
    <div
      class="modal-backdrop"
      id="mem-modal"
      role="dialog"
      aria-modal="true"
      aria-hidden="true"
    >
      <div class="modal">
        <button
          style="
            position: absolute;
            right: 12px;
            top: 8px;
            border: none;
            background: transparent;
            font-size: 18px;
            cursor: pointer;
          "
          id="close-mem"
        >
          âœ•
        </button>
        <h3 style="margin: 0 0 10px 0">Memories</h3>
        <p style="margin: 0 0 12px 0; color: #6b7280; font-size: 13px">
          Tap any image to enlarge
        </p>
        <div class="mem-grid">
          <div class="mem-item">
            <img src="images/mem1.jpg" alt="memory 1" />
            <div class="mem-caption">Road trip â€” 2019</div>
          </div>
          <div class="mem-item">
            <img src="images/mem2.jpg" alt="memory 2" />
            <div class="mem-caption">That rainy evening</div>
          </div>
          <div class="mem-item">
            <img src="images/mem3.jpg" alt="memory 3" />
            <div class="mem-caption">Graduation day</div>
          </div>
          <div class="mem-item">
            <img src="images/mem4.jpg" alt="memory 4" />
            <div class="mem-caption">CafÃ© laughs</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Gift Modal -->
    <div
      class="modal-backdrop"
      id="gift-modal"
      role="dialog"
      aria-modal="true"
      aria-hidden="true"
    >
      <div class="modal">
        <button
          style="
            position: absolute;
            right: 12px;
            top: 8px;
            border: none;
            background: transparent;
            font-size: 18px;
            cursor: pointer;
            color: #111;
          "
          id="close-gift"
        >
          âœ•
        </button>
        <div class="coupon">
          <div class="coupon-header">
            <div>
              <div class="label">TO</div>
              <div class="value" id="coupon-name">Alex Morgan</div>
            </div>
            <div style="text-align: right">
              <div class="label">SAVE</div>
              <div class="value">â‚¹500</div>
            </div>
          </div>

          <div class="coupon-body">
            <div class="label">Coupon Number</div>
            <div class="value" id="coupon-number">BDAY-2025-8273</div>

            <div style="margin-top: 10px" class="label">PIN</div>
            <div
              style="
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-top: 6px;
              "
            >
              <div class="pin-wrap">
                <div class="pin" id="pin">*****</div>
              </div>
              <button class="show-pin" id="toggle-pin">Tap to show pin</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // Simple carousel logic
      (function () {
        const slides = Array.from(document.querySelectorAll(".slide"));
        const dotsWrap = document.getElementById("dots");
        let idx = 0;

        function makeDots() {
          slides.forEach((s, i) => {
            const d = document.createElement("div");
            d.className = "dot";
            if (i === 0) d.classList.add("active");
            d.setAttribute("data-i", i);
            d.addEventListener("click", () => goTo(i));
            dotsWrap.appendChild(d);
          });
        }
        function update() {
          slides.forEach((s, i) => s.classList.toggle("active", i === idx));
          Array.from(dotsWrap.children).forEach((d, i) =>
            d.classList.toggle("active", i === idx)
          );
        }
        function goTo(i) {
          idx = (i + slides.length) % slides.length;
          update();
        }
        document
          .getElementById("prev")
          .addEventListener("click", () => goTo(idx - 1));
        document
          .getElementById("next")
          .addEventListener("click", () => goTo(idx + 1));
        makeDots();

        // auto-advance (gentle)
        let timer = setInterval(() => goTo(idx + 1), 4500);
        [
          document.getElementById("prev"),
          document.getElementById("next"),
          dotsWrap,
        ].forEach((el) => {
          el.addEventListener("mouseenter", () => clearInterval(timer));
          el.addEventListener(
            "mouseleave",
            () => (timer = setInterval(() => goTo(idx + 1), 4500))
          );
        });
      })();

      // Memories modal
      const memModal = document.getElementById("mem-modal");
      const openMem = document.getElementById("open-mem");
      const closeMem = document.getElementById("close-mem");
      openMem.addEventListener("click", () => {
        memModal.style.display = "flex";
        memModal.setAttribute("aria-hidden", "false");
      });
      closeMem.addEventListener("click", () => {
        memModal.style.display = "none";
        memModal.setAttribute("aria-hidden", "true");
      });
      memModal.addEventListener("click", (e) => {
        if (e.target === memModal) {
          memModal.style.display = "none";
          memModal.setAttribute("aria-hidden", "true");
        }
      });

      // enlarge memory images on click
      document.querySelectorAll(".mem-item img").forEach((img) => {
        img.style.cursor = "pointer";
        img.addEventListener("click", () => {
          const win = window.open(img.src, "_blank");
          if (!win) alert("Image opened in new tab.");
        });
      });

      // Gift modal
      const giftModal = document.getElementById("gift-modal");
      const openGift = document.getElementById("open-gift");
      const closeGift = document.getElementById("close-gift");
      openGift.addEventListener("click", () => {
        giftModal.style.display = "flex";
        giftModal.setAttribute("aria-hidden", "false");
      });
      closeGift.addEventListener("click", () => {
        giftModal.style.display = "none";
        giftModal.setAttribute("aria-hidden", "true");
      });
      giftModal.addEventListener("click", (e) => {
        if (e.target === giftModal) {
          giftModal.style.display = "none";
          giftModal.setAttribute("aria-hidden", "true");
        }
      });

      // Pin toggle
      const pinEl = document.getElementById("pin");
      const toggle = document.getElementById("toggle-pin");
      const realPin = "4829"; // change to real pin if needed
      let shown = false;
      toggle.addEventListener("click", () => {
        shown = !shown;
        pinEl.textContent = shown ? realPin : "*****";
        toggle.textContent = shown ? "Hide pin" : "Tap to show pin";
      });

      // Accessibility: close modals with escape
      window.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          [memModal, giftModal].forEach((m) => {
            if (m.style.display === "flex") {
              m.style.display = "none";
              m.setAttribute("aria-hidden", "true");
            }
          });
        }
      });
    </script>
  </body>
</html>
